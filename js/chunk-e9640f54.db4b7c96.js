(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9640f54"],{"46b4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-manage"},[a("el-form",{ref:"form",attrs:{inline:"","label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"所属分类"}},[a("el-cascader",{attrs:{props:{value:"id",label:"title",checkStrictly:!0},options:t.courseClassify},model:{value:t.searchData.course_classify_id,callback:function(e){t.$set(t.searchData,"course_classify_id",e)},expression:"searchData.course_classify_id"}})],1),a("el-form-item",{attrs:{label:"课程状态"}},[a("el-select",{attrs:{placeholder:"请选择课程状态"},model:{value:t.searchData.states,callback:function(e){t.$set(t.searchData,"states",e)},expression:"searchData.states"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),a("el-option",{attrs:{label:"正常",value:"1"}}),a("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1),a("el-form-item",{attrs:{label:"课程类型"}},[a("el-select",{attrs:{placeholder:"请选择课程类型"},model:{value:t.searchData.course_type,callback:function(e){t.$set(t.searchData,"course_type",e)},expression:"searchData.course_type"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期"},model:{value:t.searchData.start_created_at,callback:function(e){t.$set(t.searchData,"start_created_at",e)},expression:"searchData.start_created_at"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期"},model:{value:t.searchData.finish_created_at,callback:function(e){t.$set(t.searchData,"finish_created_at",e)},expression:"searchData.finish_created_at"}})],1),a("el-form-item",{attrs:{label:"课程名称"}},[a("el-input",{attrs:{placeholder:"请输入课程名称"},model:{value:t.searchData.title,callback:function(e){t.$set(t.searchData,"title",e)},expression:"searchData.title"}})],1),a("el-form-item",{attrs:{label:"课程ID"}},[a("el-input",{attrs:{placeholder:"请输入课程ID"},model:{value:t.searchData.keyword,callback:function(e){t.$set(t.searchData,"keyword",e)},expression:"searchData.keyword"}})],1),a("el-form-item",{attrs:{label:" "}},[a("el-button",[t._v("重置")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getCourseList}},[t._v("搜索")])],1),a("div",{staticClass:"add-course"},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("添加课程")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#f2f2f2"},size:"small",data:t.courseList,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70"}}),a("el-table-column",{attrs:{prop:"title",label:"课程名称"}}),a("el-table-column",{attrs:{prop:"chapter_count",label:"总课时",width:"70"}}),a("el-table-column",{attrs:{prop:"price",label:"价格(元)",width:"70"}}),a("el-table-column",{attrs:{prop:"course_type",label:"课程类型",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){}}])}),a("el-table-column",{attrs:{prop:"classify_title",label:"所属分类",width:"90"}}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"90"}}),a("el-table-column",{attrs:{prop:"states",label:"课程状态",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){}}])}),a("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v(t._s(3==e.row.states?"下架":1==e.row.states?"上架":"重新上架"))]),a("el-button",{attrs:{disabled:3==e.row.states,size:"mini",type:"danger"}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"page-size":15,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handlePage}})],1)],1)},l=[],r=(a("ac6a"),{name:"userManage",data:function(){return{searchData:{},courseList:[],courseClassify:[],page:1,total:0,limit:10,dialogVisible:!1,searchCourse:{},mobile:""}},created:function(){this.getCourseList(!0),this.getCourseClassify()},methods:{getCourseList:function(t){var e=this;t&&(this.page=1),this.$http.post("/api/course/basis/index/",Object.assign({page:this.page,limit:this.limit},this.searchData)).then(function(t){e.courseList=t.data,e.total=t.total_count})},getCourseClassify:function(){var t=this;this.$http.get("/api/course/classify").then(function(e){var a=[],s=[];e.rows&&e.rows.length>0&&(e.rows.forEach(function(t){0===t.packageDuration?(t.children=[],a.push(t)):s.push(t)}),a.forEach(function(t){s.forEach(function(e){e.packageDuration===t.id&&t.children.push(e)})}));for(var l=0;l<e.rows.length;l++)0===e.rows[l].packageDuration&&t.courseClassify.push(e.rows[l])})},handlePage:function(t){this.page=t,this.getCourseList()},handlePage2:function(t){this.page2=t},handleStatus:function(t){var e=this,a=1===t.status?"您确定禁用此学员？":"您确定启用此学员？";this.$confirm(a,"温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post("/api/user/status",{id:t.id}).then(function(t){200===t.code&&(e.$message({type:"success",message:"操作成功!"}),e.getCourseList())})}).catch(function(){})},resetPassword:function(t){var e=this,a="您确定给该用户重置密码？默认密码为123456";this.$confirm(a,"温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post("/api/user/repwd",{id:t}).then(function(t){200===t.code&&e.$message({type:"success",message:"操作成功!"})})}).catch(function(){})},purchasedCourse:function(t){this.dialogVisible=!0,this.mobile=t.mobile,this.getCouseList(!0)},getCouseList:function(t){var e=this;t&&(this.page2=1),this.$http.post("/api/order/index",Object.assign(this.searchCourse,{mobile:this.mobile})).then(function(t){e.courseList=t.data;for(var a=0;a<e.courseList.length;a++)a%2===0&&e.courseList.splice(a,0,{user_name:"订单编号："+e.courseList[a].order_number});e.total2=e.total_count})}}}),i=r,o=(a("70b2"),a("2877")),c=Object(o["a"])(i,s,l,!1,null,"86095666",null);e["default"]=c.exports},"63c0":function(t,e,a){},"70b2":function(t,e,a){"use strict";var s=a("63c0"),l=a.n(s);l.a}}]);
//# sourceMappingURL=chunk-e9640f54.db4b7c96.js.map